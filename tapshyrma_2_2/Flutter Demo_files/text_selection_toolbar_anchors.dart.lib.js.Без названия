// Generated by DDC, the Dart Development Compiler (to JavaScript).
// Version: 2.19.2 (stable) (Tue Feb 7 18:37:17 2023 +0000) on "windows_x64"
// Module: packages/flutter/src/widgets/text_selection_toolbar_anchors.dart
// Flags: soundNullSafety(true), enableAsserts(true)
define(['dart_sdk', 'packages/flutter/src/foundation/math.dart', 'packages/flutter/src/rendering/box.dart', 'packages/flutter/src/rendering/paragraph.dart'], (function load__packages__flutter__src__widgets__text_selection_toolbar_anchors_dart(dart_sdk, packages__flutter__src__foundation__math$46dart, packages__flutter__src__rendering__box$46dart, packages__flutter__src__rendering__paragraph$46dart) {
  'use strict';
  const core = dart_sdk.core;
  const ui = dart_sdk.ui;
  const dart = dart_sdk.dart;
  const dartx = dart_sdk.dartx;
  const math = packages__flutter__src__foundation__math$46dart.src__foundation__math;
  const box = packages__flutter__src__rendering__box$46dart.src__rendering__box;
  const editable = packages__flutter__src__rendering__paragraph$46dart.src__rendering__editable;
  var text_selection_toolbar_anchors = Object.create(dart.library);
  var $last = dartx.last;
  var $first = dartx.first;
  dart._checkModuleNullSafetyMode(true);
  dart._checkModuleRuntimeTypes(false);
  const CT = Object.create({
    _: () => (C, CT)
  });
  var I = ["package:flutter/src/widgets/text_selection_toolbar_anchors.dart"];
  var primaryAnchor$ = dart.privateName(text_selection_toolbar_anchors, "TextSelectionToolbarAnchors.primaryAnchor");
  var secondaryAnchor$ = dart.privateName(text_selection_toolbar_anchors, "TextSelectionToolbarAnchors.secondaryAnchor");
  text_selection_toolbar_anchors.TextSelectionToolbarAnchors = class TextSelectionToolbarAnchors extends core.Object {
    get primaryAnchor() {
      return this[primaryAnchor$];
    }
    set primaryAnchor(value) {
      super.primaryAnchor = value;
    }
    get secondaryAnchor() {
      return this[secondaryAnchor$];
    }
    set secondaryAnchor(value) {
      super.secondaryAnchor = value;
    }
    static ['_#new#tearOff'](opts) {
      let primaryAnchor = opts && 'primaryAnchor' in opts ? opts.primaryAnchor : null;
      let secondaryAnchor = opts && 'secondaryAnchor' in opts ? opts.secondaryAnchor : null;
      return new text_selection_toolbar_anchors.TextSelectionToolbarAnchors.new({primaryAnchor: primaryAnchor, secondaryAnchor: secondaryAnchor});
    }
    static fromSelection(opts) {
      let renderBox = opts && 'renderBox' in opts ? opts.renderBox : null;
      let startGlyphHeight = opts && 'startGlyphHeight' in opts ? opts.startGlyphHeight : null;
      let endGlyphHeight = opts && 'endGlyphHeight' in opts ? opts.endGlyphHeight : null;
      let selectionEndpoints = opts && 'selectionEndpoints' in opts ? opts.selectionEndpoints : null;
      let editingRegion = new ui.Rect.fromPoints(renderBox.localToGlobal(ui.Offset.zero), renderBox.localToGlobal(renderBox.size.bottomRight(ui.Offset.zero)));
      let isMultiline = selectionEndpoints[$last].point.dy - selectionEndpoints[$first].point.dy > endGlyphHeight / 2;
      let selectionRect = new ui.Rect.fromLTRB(isMultiline ? editingRegion.left : editingRegion.left + selectionEndpoints[$first].point.dx, editingRegion.top + selectionEndpoints[$first].point.dy - startGlyphHeight, isMultiline ? editingRegion.right : editingRegion.left + selectionEndpoints[$last].point.dx, editingRegion.top + selectionEndpoints[$last].point.dy);
      return new text_selection_toolbar_anchors.TextSelectionToolbarAnchors.new({primaryAnchor: new ui.Offset.new(selectionRect.left + selectionRect.width / 2, math.clampDouble(selectionRect.top, editingRegion.top, editingRegion.bottom)), secondaryAnchor: new ui.Offset.new(selectionRect.left + selectionRect.width / 2, math.clampDouble(selectionRect.bottom, editingRegion.top, editingRegion.bottom))});
    }
    static ['_#fromSelection#tearOff'](opts) {
      let renderBox = opts && 'renderBox' in opts ? opts.renderBox : null;
      let startGlyphHeight = opts && 'startGlyphHeight' in opts ? opts.startGlyphHeight : null;
      let endGlyphHeight = opts && 'endGlyphHeight' in opts ? opts.endGlyphHeight : null;
      let selectionEndpoints = opts && 'selectionEndpoints' in opts ? opts.selectionEndpoints : null;
      return text_selection_toolbar_anchors.TextSelectionToolbarAnchors.fromSelection({renderBox: renderBox, startGlyphHeight: startGlyphHeight, endGlyphHeight: endGlyphHeight, selectionEndpoints: selectionEndpoints});
    }
  };
  (text_selection_toolbar_anchors.TextSelectionToolbarAnchors.new = function(opts) {
    let primaryAnchor = opts && 'primaryAnchor' in opts ? opts.primaryAnchor : null;
    let secondaryAnchor = opts && 'secondaryAnchor' in opts ? opts.secondaryAnchor : null;
    this[primaryAnchor$] = primaryAnchor;
    this[secondaryAnchor$] = secondaryAnchor;
    ;
  }).prototype = text_selection_toolbar_anchors.TextSelectionToolbarAnchors.prototype;
  dart.addTypeTests(text_selection_toolbar_anchors.TextSelectionToolbarAnchors);
  dart.addTypeCaches(text_selection_toolbar_anchors.TextSelectionToolbarAnchors);
  dart.setStaticMethodSignature(text_selection_toolbar_anchors.TextSelectionToolbarAnchors, () => ['fromSelection']);
  dart.setLibraryUri(text_selection_toolbar_anchors.TextSelectionToolbarAnchors, I[0]);
  dart.setFieldSignature(text_selection_toolbar_anchors.TextSelectionToolbarAnchors, () => ({
    __proto__: dart.getFields(text_selection_toolbar_anchors.TextSelectionToolbarAnchors.__proto__),
    primaryAnchor: dart.finalFieldType(ui.Offset),
    secondaryAnchor: dart.finalFieldType(dart.nullable(ui.Offset))
  }));
  dart.trackLibraries("packages/flutter/src/widgets/text_selection_toolbar_anchors.dart", {
    "package:flutter/src/widgets/text_selection_toolbar_anchors.dart": text_selection_toolbar_anchors
  }, {
  }, '{"version":3,"sourceRoot":"","sources":["text_selection_toolbar_anchors.dart"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;IAkEe;;;;;;IAGC;;;;;;;;;;;;UA1CO;UACH;UACA;UACkB;AAEvB,0BAAqB,uBAC9B,AAAU,SAAD,eAAsB,iBAC/B,AAAU,SAAD,eAAe,AAAU,AAAK,SAAN,kBAAyB;AAEjD,wBAAc,AAAmB,AAAK,AAAM,AAAG,AAAoC,kBAAnD,mBAAiB,AAAmB,AAAM,AAAM,kBAAb,oBAC1E,AAAe,cAAD,GAAG;AAEV,0BAAqB,qBAC9B,WAAW,GACL,AAAc,aAAD,QACb,AAAc,AAAK,aAAN,QAAQ,AAAmB,AAAM,AAAM,kBAAb,iBAFlC,EAGX,AAAc,AAAI,AAAoC,aAAzC,OAAO,AAAmB,AAAM,AAAM,kBAAb,oBAAkB,gBAAgB,EACxE,WAAW,GACL,AAAc,aAAD,SACb,AAAc,AAAK,aAAN,QAAQ,AAAmB,AAAK,AAAM,kBAAZ,gBAFlC,EAGX,AAAc,AAAI,aAAL,OAAO,AAAmB,AAAK,AAAM,kBAAZ;AAGxC,YAAO,oFACU,kBACb,AAAc,AAAK,aAAN,QAAQ,AAAc,AAAM,aAAP,SAAS,GAC3C,iBAAY,AAAc,aAAD,MAAM,AAAc,aAAD,MAAM,AAAc,aAAD,4BAEhD,kBACf,AAAc,AAAK,aAAN,QAAQ,AAAc,AAAM,aAAP,SAAS,GAC3C,iBAAY,AAAc,aAAD,SAAS,AAAc,aAAD,MAAM,AAAc,aAAD;IAGxE;;;;;;;;;;QAvCgB;QACT;IADS;IACT;;EACL","file":"../../../../../../../packages/flutter/src/widgets/text_selection_toolbar_anchors.dart.lib.js"}');
  // Exports:
  return {
    src__widgets__text_selection_toolbar_anchors: text_selection_toolbar_anchors
  };
}));

//# sourceMappingURL=text_selection_toolbar_anchors.dart.lib.js.map
